---
title: "用OpenAI实现公众号自动回复"
date: "2022-12-10"

toc: true
---

感觉`ChatGPT`很好玩，尝试逆向调用放到公众号上。
一方面OpenAI还未开放这个接口，最近几天它们也在不断增加安全策略；另一方面，结果响应速度太慢，大多数都会超出公众号被动回复的时间限制。
退而求其次，在OpenAI官网找到了之前版本的公开接口，代码发布在 [https://github.com/tomatocuke/openai](https://github.com/tomatocuke/openai)
或者关注公众号`杠点杠`尝试以下。

<!--more-->

### 公众号遇到的问题
- 存在回复超时间:当服务器5s内未做响应，腾讯会再重发两次请求。ChatGPT测试很难在5s内给到回复，所以最终只求在15s内同一消息3次内给出回复。
- 显示不友好：因为腾讯固定是一次推送xml，无法像chatGPT网页后台一样stream流方式从ChatGPT获取。

### ChatGPT所遇到的问题
- 响应慢。这个和参数有关，感兴趣的可以调节代码里的参数试试。(但是无论怎么调节，速度基本都在3s以上，平均要7s)
- 模型选择(即model参数)。不同模型对结果的影响差距很大，这也是区别于官方网页版的一个重要因素，API所提供的模型不包含其后台版本，实测有一个模型的中文被玩坏了。 


